/* =======================================================
   ZENTINEL THEME: AUTHORITATIVE & ACCESSIBLE
   "Function over Form"
   ======================================================= */

:root {
    /* ZRP PALETTE */
    --navy: #002244;
    --gold: #FFD700;
    --white: #FFFFFF;
    --grey-bg: #F0F2F5;
    
    /* SIGNAL COLORS */
    --green: #00703C; /* Gov.uk Green */
    --red: #D4351C;   /* Gov.uk Red */
    --orange: #F47738;
    
    /* SPACING */
    --pad: 20px;
}

body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    background-color: var(--grey-bg);
    color: #0b0c0c;
    -webkit-font-smoothing: antialiased;
}

/* HEADER: Always fixed at top context */
header {
    background: var(--navy);
    color: var(--white);
    padding: 15px var(--pad);
}

.header-inner {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.brand { display: flex; flex-direction: column; }
.zrp-text { font-size: 0.75rem; letter-spacing: 1px; opacity: 0.8; }
.system-text { font-size: 1.2rem; font-weight: 800; letter-spacing: 0.5px; }

.gold-line {
    height: 4px;
    background: var(--gold);
    margin-top: 10px;
}

#officer-badge {
    font-size: 0.8rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.status-dot {
    width: 10px; height: 10px;
    background: var(--green);
    border-radius: 50%;
    box-shadow: 0 0 5px var(--green);
}

/* CONTAINER */
.app-container {
    padding: var(--pad);
    max-width: 600px; /* Tablet width limit for readability */
    margin: 0 auto;
}

/* UTILS */
.hidden { display: none !important; }

/* ==========================================================================
   LOGIN STAGE 2: BIOMETRIC BUTTONS
   ========================================================================== */

/* The Container for the buttons */
.bio-grid {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin: 30px 0;
}

/* The Big Buttons (Face ID / Fingerprint) */
.btn-bio {
    background: white;
    border: 2px solid var(--zrp-gold);
    border-radius: 15px;
    width: 140px;
    height: 140px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    color: var(--zrp-blue);
    font-weight: 700;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.btn-bio:hover {
    transform: translateY(-5px);
    background: #FFFAF0; /* Light cream hover */
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

.btn-bio:active {
    transform: scale(0.95);
}

.bio-icon {
    font-size: 40px;
    margin-bottom: 15px;
}

/* Success Banner (appears above buttons) */
.success-banner {
    background: var(--green);
    color: white;
    padding: 10px;
    border-radius: 8px;
    margin-bottom: 20px;
    font-weight: bold;
    text-align: center;
    animation: fadeIn 0.5s;
}

/* Ensure the 'hidden' class works */
.hidden {
    display: none !important;
}

/* ==========================================================================
   BIOMETRIC ANIMATIONS (iPhone Style)
   ========================================================================== */

/* The Background Blur */
#bio-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.3s ease-out;
}

/* The Popup Box (Starts Blue) */
.bio-box {
    width: 220px;
    height: 220px;
    background: rgba(30, 50, 90, 0.95); /* Deep Blue */
    border-radius: 25px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform: scale(0.8);
    animation: popIn 0.4s forwards;
}

.bio-box.success { background: var(--green); transform: scale(1); }
.bio-box.error { background: var(--red); animation: shake 0.4s; }

/* The Scanner Container */
.bio-scanner {
    position: relative;
    width: 80px;
    height: 80px;
    margin-bottom: 20px;
}

/* 1. The Circulating Gold Ring */
.scan-ring {
    position: absolute;
    width: 100%; height: 100%;
    border: 4px solid rgba(255, 215, 0, 0.2); /* Faint Gold */
    border-top: 4px solid #FFD700; /* Bright Gold */
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

/* 2. Face Features (Gold Lines) */
.face-features {
    position: absolute;
    top: 15px; left: 15px;
    width: 50px; height: 50px;
}
.eye {
    position: absolute; top: 15px; width: 6px; height: 6px;
    background: #FFD700; border-radius: 50%;
}
.eye.left { left: 10px; }
.eye.right { right: 10px; }
.mouth {
    position: absolute; bottom: 10px; left: 10px;
    width: 30px; height: 15px;
    border-bottom: 3px solid #FFD700;
    border-radius: 0 0 50% 50%;
}

/* 3. Fingerprint (CSS Only Representation) */
.fingerprint-lines {
    width: 50px; height: 60px;
    margin: 10px auto;
    border: 3px solid #FFD700;
    border-radius: 50% 50% 10px 10px;
    position: relative;
}
.fingerprint-lines::before {
    content: ''; position: absolute;
    top: 5px; left: 5px; right: 5px; bottom: 5px;
    border: 3px solid rgba(255,215,0,0.5);
    border-radius: 50% 50% 5px 5px;
}

/* 4. Success Tick / Error Cross */
.result-icon {
    font-size: 60px;
    color: white;
    font-weight: bold;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%; height: 100%;
    text-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

/* Text Styling */
#bio-text {
    color: white;
    font-size: 16px;
    font-weight: 600;
    margin: 0;
    text-align: center;
}

/* Keyframes */
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes popIn { 0% { transform: scale(0.5); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
@keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* Helpers to hide/show specific icons */
.hidden { display: none !important; }

/* ==========================================================================
   COMBINED WORKSPACE STYLES
   ========================================================================== */

.panel-section {
    background: white;
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    border: 1px solid #eee;
}

.checklist-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Two columns for checklist */
    gap: 10px;
}

.ai-section {
    border-left: 4px solid var(--zrp-gold);
}

.ai-input-wrapper textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-family: inherit;
    font-size: 16px;
    resize: vertical;
}

#ticket-breakdown-list {
    background: #f9f9f9;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    border: 1px dashed #ccc;
}

.breakdown-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
}

.breakdown-item:last-child {
    border-bottom: none;
}

.total-row {
    display: flex;
    justify-content: space-between;
    font-size: 20px;
    font-weight: 800;
    color: var(--zrp-blue);
    margin-bottom: 20px;
    padding: 10px;
    background: #eef2ff;
    border-radius: 8px;
}